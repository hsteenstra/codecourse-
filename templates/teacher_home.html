{% extends "base.html" %}
{% block content %}

<div class="grid">
  <section class="col-8">
    <div class="hero">
      <div class="stage">
        <div class="kicker">Code For ME • Teacher</div>
        <h1 style="margin-top: 14px;">Teacher dashboard</h1>
        <p class="subtitle">Create classrooms, post assignments, and grade out of 10 — in a workflow that feels familiar.</p>
        <div class="row" style="margin-top: 14px; flex-wrap: wrap;">
          <a class="btn btn-primary" href="/teacher/classroom/create">Create classroom</a>
        </div>
      </div>
    </div>

    <div class="card card-pad-lg">
      <div class="row" style="justify-content: space-between; align-items: baseline;">
        <h2>Your classes</h2>
        <span class="muted" style="font-weight: 800;">Share the class code or invite link</span>
      </div>

      {% if classrooms %}
        <div class="course-grid" style="margin-top: 12px;">
          {% for c in classrooms %}
            <a class="course" href="/teacher/classroom/{{ c.id }}">
              <div class="row" style="justify-content: space-between; align-items: baseline;">
                <div>
                  <h3 style="font-weight: 900;">{{ c.name }}</h3>
                  <div class="muted">Code: <strong>{{ c.code }}</strong></div>
                </div>
                <div class="pill-tag todo">Open</div>
              </div>
            </a>
          {% endfor %}
        </div>
      {% else %}
        <p class="subtitle" style="margin-top: 10px;">No classrooms yet. Create one to get started.</p>
      {% endif %}
    </div>
  </section>

  <aside class="col-4">
    {% if notifications %}
      <div class="card card-pad-lg">
        <div class="row" style="justify-content: space-between;">
          <h2>Notifications</h2>
          <form method="post" action="/notifications/read">
            <button class="btn btn-ghost" type="submit">Mark read</button>
          </form>
        </div>
        <div class="stack" style="margin-top: 10px;">
          {% for n in notifications %}
            <div class="stream-item">
              <div class="stream-title">{{ n.title }}</div>
              <div class="stream-body">{{ n.body }}</div>
              <div class="muted" style="margin-top: 6px; font-weight: 700;">{{ n.created_at|fmt_dt }}</div>
            </div>
          {% endfor %}
        </div>
      </div>
    {% endif %}

    <div class="card card-pad-lg">
      <h2>Teacher toolkit</h2>
      <div class="stack" style="margin-top: 10px;">
        <div class="stream-item">
          <div class="stream-title">Post assignments</div>
          <div class="stream-body">Assign any lesson with a due date and a note for students.</div>
        </div>
        <div class="stream-item">
          <div class="stream-title">Grade out of 10</div>
          <div class="stream-body">Save grades and students see updates immediately.</div>
        </div>
        <div class="stream-item">
          <div class="stream-title">Invite links</div>
          <div class="stream-body">Students can join using a simple URL or class code.</div>
        </div>
      </div>
    </div>
  </aside>
</div>

{% endblock %}
